<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sajan | Portfolio</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-gradient"></div>

    <header class="glass-header">
        <nav class="navbar">
            <div class="logo">Sajan</div>

            <!-- Mobile Menu Button -->
            <button class="menu-toggle" aria-label="Toggle Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="nav-links">
                <li><a href="#" id="nav-home" class="active">Home</a></li>
                <li><a href="#projects-grid" id="nav-projects">Projects</a></li>
                <li><a href="#" id="nav-about">About</a></li>
                <li><a href="#" id="nav-chat-trigger">Chat with me</a></li>
            </ul>

            <div class="nav-socials">
                <a href="https://www.instagram.com/sajandhl" target="_blank" class="nav-social-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                    </svg>
                    <span>@sajandhl</span>
                </a>
                <a href="https://github.com/venchy-np" target="_blank" class="nav-social-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path
                            d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                        </path>
                    </svg>
                    <span>venchy-np</span>
                </a>
                <div class="nav-user-wrapper" style="position: relative;">
                    <button id="nav-login-btn" class="nav-login-btn">Login</button>
                    <!-- User Dropdown -->
                    <div id="nav-user-dropdown" class="nav-dropdown hidden">
                        <button id="nav-logout-btn" class="dropdown-item">Logout</button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Home View -->
        <div id="home-view" class="view-section">
            <section class="hero">
                <h1 class="fade-in">Stuffs.</h1>
                <p class="fade-in delay-1">Web Apps & Games</p>
            </section>

            <!-- Notes Bubble (Left of Header) -->
            <div id="notes-container" class="notes-bubble-container">
                <div id="thoughts-feed" class="notes-feed">
                    <!-- Latest note appears here -->
                </div>

                <!-- Admin Controls (Popover) -->
                <div id="admin-controls" class="admin-note-controls hidden">
                    <input type="text" id="thought-input" placeholder="New note..." autocomplete="off">
                    <button id="post-thought" class="tiny-btn">+</button>
                </div>
            </div>

            <!-- Projects Header & Admin Controls -->
            <div class="projects-header">
                <button id="add-project-btn" class="action-btn hidden" style="margin: 20px auto; display: block;">+ Add
                    Project</button>
            </div>

            <section class="grid-container" id="projects-grid">
                <!-- Projects render here -->
            </section>
        </div>

        <!-- About View -->
        <div id="about-view" class="view-section hidden">
            <div class="about-container">
                <div class="about-header">
                    <h2>About Me</h2>
                    <!-- Admin Only Add Section Button -->
                    <button id="add-section-btn" class="action-btn hidden">+ Add Section</button>
                </div>

                <div id="about-content" class="about-content">
                    <!-- Dynamic Sections Render Here -->
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <p>Connect with me</p>
        <div class="social-links">
            <a href="https://www.instagram.com/sajandhl" target="_blank" class="social-icon">Instagram â†—</a>
        </div>
        <p class="copyright">Â© 2026 Sajan. Built with ai.</p>
    </footer>

    <!-- Chat Widget FAB -->
    <button id="chat-fab" class="chat-fab" aria-label="Open Chat">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
    </button>

    <!-- Chat Widget Container -->
    <div id="chat-widget" class="chat-widget hidden">
        <div class="chat-widget-header">
            <h3>Chat with me</h3>
            <button id="close-chat" class="icon-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <!-- Auth Section -->
        <div id="auth-screen" class="widget-screen">
            <div class="login-content">
                <p>Login to send a message</p>

                <input type="text" id="display-name-input" placeholder="Your Name (Optional)"
                    class="auth-input name-field">

                <form id="login-form" class="email-auth">
                    <input type="email" id="email-input" placeholder="Email" class="auth-input" autocomplete="email"
                        required>
                    <input type="password" id="password-input" placeholder="Password" class="auth-input"
                        autocomplete="current-password" required>
                    <div class="auth-actions">
                        <button type="submit" id="btn-email-login" class="auth-btn email">Login</button>
                        <button type="button" id="btn-email-signup" class="auth-btn email-outline">Sign Up</button>
                    </div>
                </form>

                <div class="divider">or</div>

                <button id="btn-google" class="auth-btn google">
                    <svg width="18" height="18" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M12.545,10.239v3.821h5.445c-0.712,2.332-2.92,3.958-5.445,3.958c-3.35,0-6.066-2.616-6.066-5.966c0-3.35,2.716-5.966,6.066-5.966c1.396,0,2.693,0.472,3.725,1.264l2.844-2.738C17.375,2.853,15.115,1.751,12.545,1.751c-5.714,0-10.347,4.667-10.347,10.422c0,5.755,4.633,10.422,10.347,10.422c5.385,0,9.971-3.953,10.301-9.155H12.545z" />
                    </svg>
                    Google
                </button>
                <button id="btn-guest" class="auth-btn guest">
                    Anonymous
                </button>
            </div>
        </div>

        <!-- Chat Section -->
        <div id="chat-screen" class="widget-screen hidden">
            <!-- Sidebar for Admin (Overlay style for widget) -->
            <div id="admin-sidebar" class="admin-overlay hidden">
                <div class="sidebar-header">
                    <h4>Inbox</h4>
                    <button id="close-sidebar" class="icon-btn">Ã—</button>
                </div>
                <div id="conversations-list" class="conversations"></div>
            </div>

            <div class="chat-area">
                <div id="messages-container" class="messages-area widget-messages"></div>

                <form id="message-form" class="input-area widget-input">
                    <input type="text" id="message-input" placeholder="Message..." autocomplete="off">
                    <button type="submit" class="send-btn">
                        <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                        </svg>
                    </button>
                    <!-- Admin specific button to show sidebar -->
                    <button type="button" id="btn-admin-list" class="icon-btn hidden" title="Inbox">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                    </button>
                </form>
            </div>

            <div class="widget-footer-controls">
                <button id="btn-logout" class="text-btn">Logout</button>
            </div>
        </div>
    </div>

    <link rel="stylesheet" href="css/chat.css">
    <script type="module" src="js/script.js"></script>
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/chat.js"></script>
    <!-- Project Modal -->
    <div id="project-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Project Details</h3>
            <input type="hidden" id="modal-project-id">

            <div class="form-group">
                <label>Title</label>
                <input type="text" id="modal-title" placeholder="Project Title">
            </div>

            <div class="form-group">
                <label>Description</label>
                <textarea id="modal-desc" placeholder="Project Description" rows="3"></textarea>
            </div>

            <div class="form-group">
                <label>Link</label>
                <input type="text" id="modal-link" placeholder="https://example.com">
            </div>

            <div class="form-group">
                <label>Icon Type</label>
                <div class="radio-group">
                    <label><input type="radio" name="icon-type" value="emoji" checked> Emoji</label>
                    <label><input type="radio" name="icon-type" value="image"> Image</label>
                </div>
            </div>

            <div id="emoji-input-group" class="form-group">
                <label>Emoji Icon</label>
                <input type="text" id="modal-emoji" placeholder="ðŸš€" maxlength="4">
            </div>

            <div id="image-input-group" class="form-group hidden">
                <label>Upload Image (Max 100KB)</label>
                <input type="file" id="modal-file" accept="image/*">
                <div id="image-preview" class="image-preview hidden"></div>
            </div>

            <div class="modal-actions">
                <button id="modal-cancel" class="action-btn secondary">Cancel</button>
                <button id="modal-save" class="action-btn">Save Project</button>
            </div>
        </div>
    </div>

</body>

</html>