<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat | Sajan</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/chat.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Auth Section -->
    <section id="auth-screen" class="screen">
        <div class="login-card fade-in">
            <h1>Connect</h1>
            <p>Send me a message directly.</p>

            <div class="email-auth">
                <input type="email" id="email-input" placeholder="Email" class="auth-input">
                <input type="password" id="password-input" placeholder="Password" class="auth-input">
                <div class="auth-actions">
                    <button id="btn-email-login" class="auth-btn email">Login</button>
                    <button id="btn-email-signup" class="auth-btn email-outline">Sign Up</button>
                </div>
            </div>

            <div class="divider">or</div>

            <button id="btn-google" class="auth-btn google">
                <svg width="18" height="18" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M12.545,10.239v3.821h5.445c-0.712,2.332-2.92,3.958-5.445,3.958c-3.35,0-6.066-2.616-6.066-5.966c0-3.35,2.716-5.966,6.066-5.966c1.396,0,2.693,0.472,3.725,1.264l2.844-2.738C17.375,2.853,15.115,1.751,12.545,1.751c-5.714,0-10.347,4.667-10.347,10.422c0,5.755,4.633,10.422,10.347,10.422c5.385,0,9.971-3.953,10.301-9.155H12.545z" />
                </svg>
                Sign in with Google
            </button>
            <button id="btn-guest" class="auth-btn guest">
                Continue as Guest (Anonymous)
            </button>
            <a href="index.html" class="back-link">‚Üê Back to Portfolio</a>
        </div>
    </section>

    <!-- Chat Interface -->
    <section id="chat-screen" class="screen hidden">
        <div class="chat-container">
            <!-- Sidebar (Only visible for Admin or on wide screens if we want history) -->
            <div id="admin-sidebar" class="sidebar hidden">
                <div class="sidebar-header">
                    <h3>Messages</h3>
                </div>
                <div id="conversations-list" class="conversations">
                    <!-- Dynamic list of chats -->
                </div>
            </div>

            <!-- Main Chat Area -->
            <div class="main-chat">
                <header class="chat-header">
                    <div class="header-user-info">
                        <div class="avatar" id="chat-avatar">S</div>
                        <div class="info">
                            <h3 id="chat-title">Sajan</h3>
                            <span class="status">Online</span>
                        </div>
                    </div>
                    <button id="btn-logout" class="icon-btn" title="Logout">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </header>

                <div id="messages-container" class="messages-area">
                    <!-- Messages go here -->
                </div>

                <form id="message-form" class="input-area">
                    <input type="text" id="message-input" placeholder="iMessage" autocomplete="off">
                    <button type="submit" class="send-btn">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Firebase SDKs (using ES modules in valid script type check chat.js) -->
    <!-- We will use type="module" for scripts to use imports -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/chat.js"></script>
</body>

</html>